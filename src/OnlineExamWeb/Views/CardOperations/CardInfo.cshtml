@model OnlineExamPaymentAPI.Dtos.Request.PlasticCardDto
@{
    ViewData["Title"] = "CardInfo";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Professional Card Registration Modal</title>
    <style>
        /* Modal overlay */
        .modal {
            display: block; /* always visible */
            position: fixed;
            z-index: 9999;
            inset: 0;
            background: rgba(0, 0, 0, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        /* Modal box */
        .modal-content {
            background: #fff;
            width: 380px;
            border-radius: 8px;
            padding: 30px 25px;
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
            position: relative;
        }

        /* Close button */
        .close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            color: #666;
            cursor: pointer;
            transition: color 0.3s ease;
        }

            .close:hover {
                color: #000;
            }

        /* Heading */
        .modal-content h2 {
            margin: 0 0 25px 0;
            font-weight: 600;
            color: #222;
            text-align: center;
            font-size: 1.5rem;
        }

        /* Form styling */
        form {
            display: flex;
            flex-direction: column;
            gap: 18px;
        }

        label {
            font-size: 0.9rem;
            color: #444;
            margin-bottom: 6px;
            display: block;
            font-weight: 600;
        }

        input[type="text"],
        input[type="number"],
        select {
            padding: 10px 12px;
            font-size: 1rem;
            border: 1.8px solid #ccc;
            border-radius: 6px;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

            input[type="text"]:focus,
            input[type="number"]:focus,
            select:focus {
                border-color: #007BFF;
                box-shadow: 0 0 6px #cce4ff;
                outline: none;
            }

        .text-danger {
            color: red;
            font-size: 0.9rem;
        }
        /* Expiry date container */
        .expiry-container {
            display: flex;
            gap: 12px;
        }

            .expiry-container select {
                flex: 1;
            }

        /* Submit button */
        .submit-btn {
            padding: 12px;
            background-color: #007BFF;
            border: none;
            border-radius: 6px;
            color: white;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-top: 10px;
        }

            .submit-btn:hover {
                background-color: #0056b3;
            }

    </style>
</head>
<body>

    <div id="cardModal" class="modal">
        <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
            <button class="close" aria-label="Close modal" onclick="document.getElementById('cardModal').style.display='none'">&times;</button>
            <h2 id="modalTitle">Register Your Card</h2>
            <form asp-action="CardInfo" asp-controller="CardOperations" method="post">
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                <div>
                    <label for="holder">Card Holder</label>
                    <input type="text" id="holder" name="HolderName" placeholder="Full Name" required />
                    <span asp-validation-for="HolderName" class="text-danger"></span>
                </div>
                <div>
                    <label for="number">Card Number</label>
                    <input type="text" id="number" name="CardNumber" maxlength="19" placeholder="1234 5678 9012 3456" pattern="\d{13,19}" required />
                    <span asp-validation-for="CardNumber" class="text-danger"></span>
                </div>
                <div>
                    <label>Expire Date</label>
                    <div class="expiry-container">
                        <select id="expire-month" name="ExpireMonth" required>
                            <option value="" disabled selected>Month</option>
                            <option value="01">01 - Jan</option>
                            <option value="02">02 - Feb</option>
                            <option value="03">03 - Mar</option>
                            <option value="04">04 - Apr</option>
                            <option value="05">05 - May</option>
                            <option value="06">06 - Jun</option>
                            <option value="07">07 - Jul</option>
                            <option value="08">08 - Aug</option>
                            <option value="09">09 - Sep</option>
                            <option value="10">10 - Oct</option>
                            <option value="11">11 - Nov</option>
                            <option value="12">12 - Dec</option>
                        </select>
                        <select id="expire-year" name="ExpireYear" required>
                            <option value="" disabled selected>Year</option>
                        </select>
                    </div>
                    <span asp-validation-for="ExpireMonth" class="text-danger"></span>
                    <span asp-validation-for="ExpireYear" class="text-danger"></span>
                </div>
                <div>
                    <label for="cvv">CVV</label>
                    <input type="number" id="cvv" name="cvv" maxlength="4" placeholder="123" min="100" max="9999" required />
                    <span asp-validation-for="CVV" class="text-danger"></span>
                </div>
                <button type="submit" class="submit-btn">Submit</button>
            </form>
        </div>
    </div>

    <script>
        // Populate year dropdown with 2025-2034
        const yearSelect = document.getElementById('expire-year');
        const currentYear = 2025;
        const numberOfYears = 10;
        for (let i = 0; i < numberOfYears; i++) {
            const year = currentYear + i;
            const option = document.createElement('option');
            option.value = year;
            option.textContent = year;
            yearSelect.appendChild(option);
        }
    </script>
    @section Scripts {
        <partial name="_ValidationScriptsPartial" />
    }
</body>
</html>